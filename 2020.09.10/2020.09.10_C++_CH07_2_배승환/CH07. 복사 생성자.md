## CH07. í´ë˜ìŠ¤ ìƒì„±ìì™€ ì†Œë©¸ì

* using

  * ë²”ìœ„ ì§€ì • ì—°ì‚°ì—†ì´ ì°¸ì¡°ë¥¼ ê°€ëŠ¥ì¼€ í•œë‹¤.

  * ```c++
    #include <iostream> 
    
    namespace A_COM { 
        void function(void) { 
            std::cout<<"A.COMì—ì„œ ì •ì˜í•œ í•¨ìˆ˜"<<std::endl; 
        } 
    } 
    
    using A_COM::function; 
    
    int main(void) { 
        function(); 
    
        return 0; 
    } 
    ```

    * ë‹¤ìŒ mainë¬¸ì— ìˆëŠ” function()ì€ using í‚¤ì›Œë“œë¥¼ í†µí•´ì„œ "A_COMì´ë¼ëŠ” ì´ë¦„ê³µê°„ ì•ˆì— ì„ ì–¸ëœ functionì´ë¼ëŠ” ì´ë¦„ì„ ì°¸ì¡°í•œë‹¤" ë¼ëŠ” ì˜ë¯¸

  * ```C++
    #include <iostream> 
    
    using std::cout; 
    using std::cin; 
    using std::endl; 
    
    int main(void) { 
        cout<<"Hello World!!"<<endl; 
        cout<<"Hello "<<"World!!"<<endl; 
        cout<<'a'<<"string"<<endl; 
    
        return 0; 
    }
    ```

    * cout, cin, endlì„ std ì´ë¦„ê³µê°„ ì•ˆì—ì„œ ì°¾ì•„ ì„ ì–¸

  * ```c++
    #include <iostream> 
    
    namespace A_COM { 
        void function(void) { 
            std::cout<<"A.COMì—ì„œ ì •ì˜í•œ í•¨ìˆ˜"<<std::endl; 
        } 
    } 
    
    using namespace A_COM; 
    
    int main(void) { 
        function(); 
        return 0; 
    }
    ```

    * using namespace A_COM; ì„ í†µí•´ì„œ A_COM ì•ˆì— ìˆëŠ” ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ì— ìƒê´€ì—†ì´ ì´ë¦„ê³µê°„ì— ëŒ€í•œ ì„ ì–¸ì—†ì´ ì°¸ì¡°

  * ```c++
    #include <iostream>
    
    int val=100; 
    
    int main(void) { 
        int val=100; 
        ::val+=1; 		//valë¡œ í–ˆì„ ê²½ìš° ì§€ì—­ë³€ìˆ˜ì— ì ìš©ë˜ë¯€ë¡œ ::ì„ ë¶™ì—¬ì¤˜ì•¼ëœë‹¤.
        std::cout<<::val<<std::endl;
        return 0; 
    }
    ```

  * ì „ì—­ë³€ìˆ˜ë¥¼ ì‹œ, ì§€ì—­ë³€ìˆ˜ì™€ ì´ë¦„ì´ ê°™ì„ê²½ìš°, ::ì„ ë¶™ì—¬ ì§€ì—­ë³€ìˆ˜ì™€ ì „ì—­ë³€ìˆ˜ ê°„ì˜ ì°¨ì´ë¥¼ ë‘ 

  * ì§€ì—­ë³€ìˆ˜ì™€ ì „ì—­ë³€ìˆ˜ì˜ ì´ë¦„ì´ ê°™ì„ê²½ìš°, ::ì— ìƒê´€ì—†ì´ ì‚¬ìš©



#### ë³µì‚¬  ìƒì„±ì

* í´ë˜ìŠ¤-ì´ë¦„ (const í´ë˜ìŠ¤-ì´ë¦„& ) {ë³¸ë¬¸}

* ```c++
  class_name (const class_name &){
      ...
  }
  //default ë³µì‚¬ ìƒì„±ìë¥¼ ìƒì„±í•˜ë„ë¡ ìš”ì²­
  class_name (const class_name& ) = default;
  //ë³µì‚¬ ìƒì„±ìë¥¼ ì‚­ì œ
  class_name (const class_name& ) = delete;
  ```

* ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ìƒì„±ì

* C++ì—ì„œëŠ” ì¼ë°˜ ë³€ìˆ˜ë¥¼ ì„ ì–¸ ì‹œ í™ ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ìŠ¤íƒ ë©”ëª¨ë¦¬ ë‚´ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ê°ì²´ì˜ ë³µì‚¬ê°€ ë¹ˆë²ˆíˆ ë°œìƒ

* ê°ì²´ì˜ ë³µì‚¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì¼ë°˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

* Rule Of Zeroì˜ ê·œì¹™ì— ë”°ë¼ ë³µì‚¬ ìƒì„±ìë¥¼ ë³„ë„ ì •ì˜í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.

* ì†Œë©¸ì ë‚´ë¶€ì—ì„œ delete ì—°ì‚°ìë¥¼ í˜¸ì¶œí•˜ì—¬ í™ ë©”ëª¨ë¦¬ ë‚´ ì €ì¥ì†Œë¥¼ ì‚­ì œí•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ìì—´ì´ ê¹¨ì§€ëŠ” ê²ƒê³¼ ê°™ì€ ì—ëŸ¬ ë°œìƒ.

  * ë‹¤ìŒ ì¡°ê±´ì—ì„œ ë°œìƒ
    * í´ë˜ìŠ¤ ë‚´ë¶€ì— ë©¤ë²„ í¬ì¸í„°ê°€ ì¡´ì¬
    * ë©¤ë²„ í¬ì¸í„°ëŠ” ìƒì„±ìê°€ í˜¸ì¶œ ì‹œ ë©”ã…ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ê³  ì´ˆê¸°í™”
    * ì†Œë©¸ìëŠ” ìƒì„±ìì— ì˜í•´ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ë¥¼ OSì— ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰
    * ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ë””í´íŠ¸ ë³µì‚¬ ìƒì„±ìë¥¼ ì‚¬ìš©
  * í•¨ìˆ˜ì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´, ê°ì²´ë¥¼ ì†Œë©¸í•˜ëŠ” ê³¼ì •ì—ì„œ ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì–´ ë¬¸ìì—´ì˜ ì €ì¥ì†Œë¥¼ ì‚­ì œ
  * í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ë©´ì„œ ì›ë³¸ ê°ì²´ ì—­ì‹œ ì†Œë©¸ë˜ì–´ ì˜ì—­ì¹¨ë²”ì´ë¼ëŠ” ì—ëŸ¬ ë°œìƒ

  

* ```c++
  #include <iostream>
  #include <string>
  #include <cstring>
  
  class MyString {
  public:
      MyString(const char *n);
      MyString(const MyString &my) = default; // ë³µì‚¬ ìƒì„±ì
      ~MyString();
  
      const char* GetString() const;
      int GetLength() const;
      
  private:
      char* data;
      int length;
  };
  
  MyString::MyString(const char *n){
      if (nullptr == n){
          data = nullptr;
          length = 0;
          return;
      }
      
      int mLength = strlen(n);
      if (0 == mLength) {
          data = nullptr;
          length = 0;
          return;
      }
      // new ì—°ì‚°ìë¥¼ í†µí•´ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹
      // std::nothrow ë„£ì–´ì¤Œìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ í• ë‹¹ ì‹¤íŒ¨ì‹œ NULLì„ ë¦¬í„´
      char *temp = new (std::nothrow) char[mLength + 1];
      if (nullptr != temp) {
          std::strcopy(temp, n);
          data = temp;
          length = mLength;
          printf("MyString::MyString(const char '%s')\n", n);
      }
  }
  
  MyString::~MyString(){
      printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
      if (nullptr != data) {
          delete[] data;
  
          data = nullptr;
          length = 0;
      }
  }
  
  const char* MyString::GetString() const {
      return data;
  }
  
  int MyString::GetLength() const {
      return length;
  }
  
  //other ê°ì²´ë¥¼ ì†Œë©¸í•˜ëŠ” ê³¼ì •ì—ì„œ ì†Œë©¸ìê°€ í˜¸ì¶œ
  void display(const MyString& other) {
     std::cout << other.GetString() << std::endl;
  }
  
  int main() {
      MyString s1("Hello World");
      display(s1);
      MyString obj = s1;		// ë³µì‚¬ ìƒì„±ìì— ì˜í•´ ì–•ì€ ë³µì‚¬ ìˆ˜í–‰
      return 0;
  }
  ```
  >MyString::MyString(const char 'Hello World')
  >Hello World
  >
  >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
  >MyString::MyString('ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼@{`?') ì†Œë©¸ì í˜¸ì¶œ
* ì–•ì€ ë³µì‚¬ -> ê¹Šì€ ë³µì‚¬

* (char *) íƒ€ì…ì˜ ë¬¸ìì—´ -> std::string íƒ€ì…ì˜ ë¬¸ìì—´ 

* ë¬¸ìì—´ í¬ì¸í„° -> std::shared_ptr ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬



#### ì–•ì€ ë³µì‚¬ì™€ ê¹Šì€ ë³µì‚¬

* ì–•ì€ ë³µì‚¬

  * ë‹¨ì§€ ë©”ëª¨ë¦¬ ì£¼ì†Œë§Œì„ ë³µì‚¬í•˜ì—¬ ë³€ìˆ˜ì˜ ë°ì´í„°ë¡œ ë§Œë“œëŠ” ë°©ë²•

  * ```C++
    #include <iostream>
    
    using namespace std;
    
    class Person
    {
    public:
    	int age;
    	char* name;
    
    public:
    	Person(int _age, const char* _name)
    	{
    		age = _age;
    		name = new char[strlen(_name) + 1];
    		strcpy(name, _name);
    	}
    
    	Person(const Person& s)
    	{
    		age = s.age;
    		name = s.name;
    	}
    
    	~Person()
    	{
    		cout << "ì†Œë©¸!" << endl;
    		delete name;
    	}
    
    	void printPerson()
    	{
    		cout << "ì´ë¦„: " << name << endl;
    		cout << "ë‚˜ì´: " << age << endl;
    	}
    };
    
    void main()
    {
    	Person A(22, "jack");
    	Person B = A;
    
    	A.age = 28;
    	strcpy(A.name, "John");
    
    	A.printPerson();
    	B.printPerson();
    
    }
    ```

    > <img src="./image/fig1.PNG" style="zoom:50%;" />
    >
    > * nameì€ ì£¼ì†Œê°’ì„ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— ë³µì‚¬ë¥¼ í•˜ë”ë¼ë„ ê°™ì€ ì£¼ì†Œë¥¼ ì°¸ì¡°
    >
    > * nameì„ ë°”ê¿¨ì„ë•Œ A,Bê°ì²´ ëª¨ë‘ ë³€ê²½
    > * ì†Œë©¸ìê°€ í˜¸ì¶œë  ë•Œ nameì€ ê°™ì€ ë©”ëª¨ë¦¬ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ í•œë²ˆ delete ëœ ë©”ëª¨ë¦¬ë¥¼ ë‹¤ì‹œ deleteí•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ ë°œìƒ

* ê¹Šì€ ë³µì‚¬

  * ë³€ìˆ˜ê°€ ê´€ë¦¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ ìì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡­ê²Œ ë©¤ë²„ ë³€ìˆ˜ì— ì…ë ¥

  * ìƒˆë¡­ê²Œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  ë¬¸ìì—´ì´ë‚˜ ê°ì²´ë¥¼ ë³µì‚¬

  * ```c++
    #include <iostream>
    
    using namespace std;
    
    class Person
    {
    public:
    	int age;
    	char* name;
    
    public:
    	Person(int _age, const char* _name)
    	{
    		age = _age;
    		name = new char[strlen(_name) + 1];
    		strcpy(name, _name);
    	}
    
    	Person(const Person& s)
    	{
    		age = s.age;
    		name = new char[strlen(s.name) + 1];
    		strcpy(name, s.name);
    	}
    	//Person(const Person& s)
    	//{
    	//	age = s.age;
    	//	name = s.name;
    	//}
    
    	~Person()
    	{
    		delete name;
    		cout << "ì†Œë©¸!" << endl;
    	}
    
    	void printPerson()
    	{
    		cout << "ì´ë¦„: " << name << endl;
    		cout << "ë‚˜ì´: " << age << endl;
    	}
    };
    
    void main()
    {
    	Person A(22, "jack");
    	Person B = A;
    
    	A.age = 28;
    	strcpy(A.name, "John");
    
    	A.printPerson();
    	B.printPerson();
    
    }
    ```

    > ![](./image/fig2.PNG)
    >
    > * ë³µì‚¬ ìƒì„±ìì—ì„œ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ë¥¼ í•­ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì›ë³¸ê³¼ ë³µì‚¬ë³¸ì˜ ì°¸ì¡° ê³µê°„ì´ ë‹¤ë¦„

* <img src="./image/fig3.PNG" style="zoom:50%;" /> <img src="./image/fig4.PNG" style="zoom:50%;" />



* ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì

  * ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”© ì‘ì—… ì—†ì´ ë””í´íŠ¸ë¡œ ì—°ì‚° ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ì–•ì€ ë³µì‚¬ì˜ ì¬ë°œìƒìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ë°œìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ìƒì„± 

    * ìœ„ ì½”ë“œì—ì„œ ê¹Šì€ ë³µì‚¬ë¡œ ë°”ê¾¸ì–´ ì¤Œì—ë„ ë¶ˆêµ¬í•˜ê³  s2=s1; display(s2); ë¥¼ í•´ì¤€ë‹¤ë©´ ë‹¤ì‹œ ë¬¸ìì—´ì´ ê¹¨ì§€ëŠ” ì—ëŸ¬ ë°œìƒ

  * operator í‚¤ì›Œë“œì™€ =ëŒ€ì…ì—°ì‚°ì, ì°¸ì¡°ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸

  * class_name& class_name::operator=(const class_name)

  * ```c++
  #include <iostream>
    #include <string>
    #include <cstring>
    
    class MyString {
    public:
    	MyString(const char *n);
    	MyString(const MyString &my);
    	~MyString();
    
    	MyString& operator= (const MyString& other);
    	void SetString(const char* n);
    	const char* GetString() const;
    	int GetLength() const;
    
    private:
    	void Release();
    	char* data;
    	int length;
    };
    
    void display(MyString other) {
    	std::cout << other.GetString() << std::endl;
    }
    
    
    // ì¼ë°˜ ìƒì„±ì
    MyString::MyString(const char *n) : data(nullptr), length(0) {
    	SetString(n);
    	printf("ì¼ë°˜ ìƒì„±ì MyString::MyString(const char '%s')\n", n);
    }
    
    // ë³µì‚¬ ìƒì„±ì
    MyString::MyString(const MyString &my) : data(nullptr), length(0) {
    	SetString(my.GetString());
    	printf("ë³µì‚¬ ìƒì„±ì MyString::MyString(const MyString '%s')\n", my.GetString());
    }
    
    MyString::~MyString() {
    	printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
    	Release();
    }
    // ë³µì‚¬ëŒ€ì… ì—°ì‚°ì
    MyString& MyString::operator= (const MyString & other) {
    	if (this != &other) { // ìê¸° ìì‹ ì„ ëŒ€ì…í•˜ëŠ” ê²ƒì€ ë¬´ì˜ë¯¸í•œ ì‘ì—…ì´ë‹¤.
    		Release();
    		SetString(other.GetString());
    	}
    	printf("ë³µì‚¬ ëŒ€ì… MyString& MyString::operator = Mystring('%s')\n", this->data);
    	return *this;
    }
    
    void MyString::SetString(const char* n) {
    	if (nullptr == n) return;
    
    	int mLength = strlen(n);
    	if (0 == mLength) return;
    
    	data = new char[mLength + 1];
    	std::strcpy(data, n);
    	length = mLength;
    }
    
    const char* MyString::GetString() const {
    	return data;
    }
    
    void MyString::Release() {
    	if (data != nullptr) {
    		delete[] data;
    		data = nullptr;
    		length = 0;
    	}
    }
    
    int MyString::GetLength() const {
    	return length;
    }
    
    int main() {
    	MyString s1("Hello World"), s2 = "ë³µì‚¬ ìƒì„±ì";
    	display(s1);
    	s2 = s1;		// ë³µì‚¬ëŒ€ì…ì—°ì‚°ì ì‹¤í–‰
    	display(s2);
    	return 0;
    }
    ```
  
    > ì¼ë°˜ ìƒì„±ì MyString::MyString(const char 'Hello World')
    >
    > ì¼ë°˜ ìƒì„±ì MyString::MyString(const char 'ë³µì‚¬ ìƒì„±ì')
    >
    > ë³µì‚¬ ìƒì„±ì MyString::MyString(const MyString 'Hello World')
    > Hello World
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > ë³µì‚¬ ëŒ€ì… MyString& MyString::operator = Mystring('Hello World')
    > ë³µì‚¬ ìƒì„±ì MyString::MyString(const MyString 'Hello World')
    > Hello World
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ



#### ì´ë™ ìƒì„±ìì™€ ì´ë™ ëŒ€ì… ì—°ì‚°ì

* ì´ë™ ìƒì„±ìëŠ” rvalue ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒì„±ìì´ë‹¤.

  * rvalue ì°¸ì¡° : ìƒìˆ˜ë‚˜ ì„ì˜ ì €ì¥ì†Œë¥¼ ì°¸ì¡°í•˜ëŠ” ê°œë…

    ```c++
    void function(){
        int&& value = 10;
    }
    ```

    * ì €ì¥ì†Œë¥¼ ë§Œë“¤ì–´ 10ì„ ì…ë ¥
    * ì €ì¥ì†Œì— ëŒ€í•´ ravlue ì°¸ì¡°ë¥¼ ìƒì„±
    * í•¨ìˆ˜ ë°˜í™˜ ì‹œ ì„ì‹œ ì €ì¥ì†Œì™€ í•¨ê²Œ ravlue ì°¸ì¡°ë¥¼ ì†Œë©¸

* ì´ë™ ìƒì„±ìì™€ ì´ë™ ëŒ€ì… ì—°ì‚°ìëŠ” ì¸ìˆ˜ë¡œ ì‚¬ìš©í•œ ê°ì²´ì™€ ìƒˆë¡­ê²Œ ìƒì„±í•œ ê°ì²´ì˜ ë©¤ë²„ê°„ì˜ ë°ì´í„° êµí™˜ì´ ì´ë£¨ì–´ì§„ë‹¤.

  * ```c++
    #include <iostream>
    #include <string>
    #include <cstring>
    #include <vector>
    #include <algorithm>
    
    class MyString {
    public:
    	MyString(const char *n = nullptr);
    	MyString(const MyString &other);
    	MyString(MyString&& other) noexcept;
    	~MyString();
    
    	MyString& operator= (const MyString& other);
    	MyString& operator= (MyString&& other) noexcept;
    	void SetString(const char* n);
    	const char* GetString() const;
    	int GetLength() const;
    
    private:
    	char* data;
    	int length;
    };
    
    MyString::MyString(const char *n) : data(nullptr), length(0) {
    	SetString(n);
    	printf("MyString::MyString(const char '%s')\n", n);
    }
    
    MyString::MyString(const MyString &other) : data(nullptr), length(0) {
    	SetString(other.GetString());
    	printf("MyString::MyString(const MyString& '%s')\n", data);
    }
    //ì´ë™ ìƒì„±ìì˜ ì •ì˜ë¬¸
    //ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ê°ì²´ëŠ” ë¬´ëª… ê°ì²´ì²˜ëŸ¼ ì„ì‹œ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ì´ë‹¤.
    MyString::MyString(MyString&& other) noexcept
    	: data(other.data), length(other.length) {
    	printf("MyString::MyString(MyString&& '%s')\n", data);
    	other.data = nullptr;		//ì¸ìˆ˜ë¡œ ì‚¬ìš©í•œ ê°ì²´ ì†Œë©¸ ì‹œ ë¦¬ì†ŒìŠ¤(char *)ë¥¼ ì‚­ì œí•˜ì§€ ëª»í•˜ë„ë¡ ì²˜ë¦¬
    	other.length = 0;
    }
    
    MyString::~MyString() {
    	printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
    	if (data != nullptr) {
    		delete[] data;
    	}
    }
    
    MyString& MyString::operator= (const MyString& other) {
    	if (this != &other) {
    		delete[] data;
    		SetString(other.GetString());
    	}
    	printf("MyString& MyString::operator = (Mystring& '%s')\n", this->data);
    	return *this;
    }
    
    MyString& MyString::operator= (MyString&& other) noexcept {
    	if (this != &other) {
    		if (nullptr != data) delete[] data;
    
    		data = other.data;
    		length = other.length;
    		other.data = nullptr;
    	}
    	printf("MyString& MyString::operator = (Mystring&& '%s')\n", this->data);
    	return *this;
    }
    
    void MyString::SetString(const char* n) {
    	if (n == nullptr) return;
    
    	int mLength = strlen(n);
    	if (mLength == 0) return;
    
    	data = new char[mLength + 1];
    	std::strcpy(data, n);
    	length = mLength;
    }
    
    const char* MyString::GetString() const {
    	return data;
    }
    
    int MyString::GetLength() const {
    	return length;
    }
    
    void display(MyString other) {
    	std::cout << other.GetString() << std::endl;
    }
    
    int main() {
    	MyString s1("Hello World"), s2 = "ë³µì‚¬ ìƒì„±ì";
    	display(s1);
    	s2 = s1;
    
    	std::vector<MyString> vec;
    	vec.push_back(s1);
    	vec.push_back(MyString("ì´ë™ ìƒì„±ì"));
    	vec.push_back(MyString("ì´ë™ ëŒ€ì… ì—°ì‚°ì"));
    	s2 = std::move(vec[2]);
    	return 0;
    }
    ```

    >MyString::MyString(const char 'Hello World')
    >MyString::MyString(const char 'ë³µì‚¬ ìƒì„±ì')
    >MyString::MyString(const MyString& 'Hello World')
    >Hello World
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    >MyString& MyString::operator = (Mystring& 'Hello World')
    >MyString::MyString(const MyString& 'Hello World')
    >MyString::MyString(const char 'ì´ë™ ìƒì„±ì')
    >MyString::MyString(MyString&& 'Hello World')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(MyString&& 'ì´ë™ ìƒì„±ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(const char 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >MyString::MyString(MyString&& 'Hello World')
    >MyString::MyString(MyString&& 'ì´ë™ ìƒì„±ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(MyString&& 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString& MyString::operator = (Mystring&& 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    >MyString::MyString('ì´ë™ ìƒì„±ì') ì†Œë©¸ì í˜¸ì¶œ
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString('ì´ë™ ëŒ€ì… ì—°ì‚°ì') ì†Œë©¸ì í˜¸ì¶œ
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    
  * ì´ë™ ìƒì„±ìëŠ” ìƒí˜¸ ë©¤ë²„ë“¤ê°„ì˜ ì´ë™ì„ í†µí•´ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì´í„°ë¥¼ ë‹¨ì¼ í¬ì¸í„°ë¡œ ìœ ì§€ì‹œí‚¨ë‹¤.

  

* ì´ë™ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì€ ë³´í†µ swap()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©¤ë²„ ë³€ìˆ˜ì˜ ë°ì´í„°ë¥¼ ì„œë¡œ êµì²´

  * ```c++
    MyString& MyString::operator= (MySting&& other) noexcept {
        if(this != &other){
            std::swap(this->data, other.data);
            std::swap(this->length, other.length);
        }
        ...
    }
    ```

  * this ê°ì²´ ë‚´ ë©¤ë²„ë“¤ì€ ëª¨ë‘ otherë¼ê³  í•˜ëŠ” ê°ì²´ì˜ ë©¤ë²„ë¡œ ì´ë™í•˜ê²Œ ëœë‹¤.

  * otherê°ì²´ëŠ” ì„ì‹œ ê°ì²´ì´ë¯€ë¡œ ì—°ì‚°ìì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ìë™ì ìœ¼ë¡œ ì†Œë©¸í•œë‹¤.



#### ë³µì‚¬/ì´ë™ ìƒëµì˜ ì›ì¹™

* ë³µì‚¬ ìƒì„±ìì™€ ì´ë™ ìƒì„±ìì˜ í˜¸ì¶œì„ ìƒëµí•  ìˆ˜ ìˆëŠ” ê²½ìš°

  * ì•”ì‹œì  ë³€í™˜ ìƒì„±ì ì²˜ëŸ¼ ê°ì²´ ìƒì„± ì‹œ ì˜¤ë¡œì§€ í•˜ë‚˜ì˜ ê°ì²´ë§Œì´ ìƒì„±ëœë‹¤.

    * Complex x=1;	í˜¹ì€ 	Complex x = Complex(Complex(Complex(1)));
    * ì´ëŠ” Complex x(1); ê³¼ ë™ì¼í•œ ë¬¸ì¥

  * í•¨ìˆ˜ ë‚´ ì§€ì—­ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤ë©´, ë³µì‚¬ ìƒì„±ìì˜ í˜¸ì¶œì„ ìƒëµëœë‹¤.

    * NRVO(Named Return Value Optimization)

    * ```c++
      MyString create(const char *ptr = nullptr){
          MyString obj(ptr);		// ì§€ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±
          return obj;				// ë³µì‚¬ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.
      }
      MyString x = create("Hello World");					// ì¼ë°˜ ìƒì„±ì í•˜ë‚˜ë§Œ í˜¸ì¶œ
      MyString *p = new MyString(create("Hello World"));	// ì¼ë°˜ ìƒì„±ì í•˜ë‚˜ë§Œ í˜¸ì¶œ
      ```

    * ì›ì¹™ì ìœ¼ë¡œëŠ” í•¨ìˆ˜ ë²”ìœ„ë‚´ ìƒì„±ëœ ê°ì²´ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œë‹¤ë©´, ì‚­ì œë˜ë¯€ë¡œ ë³µì‚¬ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ë³µì‚¬ì‹œì¼œ ì „ë‹¬ë˜ì–´ì•¼ í•˜ì§€ë§Œ, ê·¸ ê³¼ì •ì´ ìƒëµëœë‹¤.

  * í•¨ìˆ˜ê°€ ë‹¤ìŒê³¼ ê°™ì´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì— ì´ë™ ìƒì„±ìì˜ í˜¸ì¶œì´ ìƒëµëœë‹¤.

    * RVO(Return Value Optimization)

    * ```C++
      MyString create(const *ptr = nullptr){
          return MyString{ptr};		//ë¬´ëª… ë³€ìˆ˜ë¥¼ ìƒì„±
      }
      MyString x = create();
      ```

  * í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ throwë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆì™¸ë¥¼ ë˜ì¡Œì„ ë•Œ, ë³µì‚¬ ìƒì„±ìì˜ í˜¸ì¶œì´ ìƒëµëœë‹¤.

    * ```C++
      void foo(const char *ptr=nullptr){
          throw MyString(ptr);
      }
      int main(){
          try {
              foo("throw MyString");
          }catch(MyString& c){}
      }
      ```

* ```c++
  #include <iostream>  
  #include <string>
  #include <algorithm>
  
  int count = 0;
  
  class MyString {
  	std::string data;
  
  public:
  	MyString(const char *ptr = nullptr) : data(ptr) {
  		std::cout << "Constructor : " << ptr << std::endl;
  	}
  	MyString(const MyString  &obj) : data(obj.data) {
  		std::cout << "copy constructor : " << data.c_str() << std::endl;
  		++count;
  	}
  	MyString(MyString&& obj) {
  		std::swap(this->data, obj.data);
  		std::cout << "Move constructor : " << data.c_str() << std::endl;
  		++count;
  	}
  	~MyString() {
  		std::cout << "Destructor  : " << data.c_str() << std::endl;
  	}
  
  	MyString& operator= (const MyString & other) {
  		if (this != &other) {
  			data = other.data;
  		}
  		printf("MyString& MyString::operator = (Mystring& '%s')\n", this->data);
  		++count;
  		return *this;
  	}
  
  	MyString& operator= (MyString&& other) noexcept {
  		if (this != &other) {
  			std::swap(this->data, other.data);
  		}
  		printf("MyString& MyString::operator = (Mystring&& '%s')\n", this->data);
  		++count;
  		return *this;
  	}
  };
  
  MyString fun123(const char *ptr = nullptr) {
  	MyString obj(ptr);
  	return obj;
  }
  
  MyString xyz123(const char *ptr = nullptr) {
  	return MyString{ ptr };
  }
  
  void foo(const char *ptr = nullptr) {
  	throw MyString(ptr);
  }
  
  int main() {
  	MyString abc = { "abc" };
  
  	MyString obj1(fun123("fun123()"));		//(1)
  	MyString obj2(xyz123("xyz123()"));		//(2)
  
  	MyString xyz = "Return Value Optimization(RVO)";		//(3)
  	
      //(4)
  	try {
  		foo("throw MyString");
  	}
  	catch (MyString& c) {
  	}
  	
  	std::cout << "í˜¸ì¶œ íšŸìˆ˜ : " << count << std::endl;
  	return 0;
  }
  ```
  >Constructor : abc
  >
  >Constructor : fun123()
  >
  >Constructor : xyz123()
  >
  >Constructor : Return Value Optimization(RVO)
  >
  >Constructor : throw MyString
  >
  >Destructor  : throw MyString
  >
  >í˜¸ì¶œ íšŸìˆ˜ : 0
  >
  >Destructor  : throw MyString
  >
  >Destructor  : xyz123()
  >
  >Destructor  : fun123()
  >
  >Destructor  : abc
  
* (1)ì—ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì— ë³µì‚¬ ìƒì„±ì ë˜ëŠ” ì´ë™ ìƒì„±ì í˜¸ì¶œì´ ìƒëµ

* (2)ì—ì„œ ë¬´ëª… í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜ í•˜ëŠ” ê²½ìš°ì— ë³µì‚¬ ìƒì„±ì ë˜ëŠ” ì´ë™ ìƒì„±ì í˜¸ì¶œì´ ìƒëµ

* (3)ì—ì„œ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°ì— ì´ë™ ìƒì„±ì í˜¸ì¶œì´ ìƒëµ

* (4)ì—ì„œ ì˜ˆì™¸ë¥¼ ë˜ì¡Œì„ ë•Œ(try/catchë¬¸) ë³µì‚¬/ì´ë™ ìƒì„±ì í˜¸ì¶œì´ ìƒëµ

* ë”°ë¼ì„œ ì´ í˜¸ì¶œ íšŸìˆ˜ëŠ” 0

