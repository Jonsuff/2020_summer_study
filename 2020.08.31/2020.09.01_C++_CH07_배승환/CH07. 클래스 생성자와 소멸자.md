## CH07. í´ë˜ìŠ¤ ìƒì„±ìì™€ ì†Œë©¸ì

| Rule Of Three(C++11ì´ì „)                              | Rule Of Five(C++11ì´í›„)                                      | Rule Of Zero |
| ----------------------------------------------------- | ------------------------------------------------------------ | ------------ |
| 1. ë³µì‚¬ìƒì„±ì<br />2. ì†Œë©¸ì<br />3. ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì | 1. ë³µì‚¬ ìƒì„±ì<br />2. ì†Œë©¸ì<br />3. ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì<br />4. ì´ë™ ì—°ì‚°ì<br />5. ì´ë™ ëŒ€ì… ì—°ì‚°ì |              |

* Rule Of Zero

  * í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ìê°€ ì¼ë°˜ ìƒì„±ìë‚˜ ë””í´íŠ¸ ìƒì„±ìë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ëª¨ë“ ê²ƒì„ ì‹œìŠ¤í…œì— ìœ„ì„ì‹œí‚¤ëŠ” ê²ƒì„ ì˜ë¯¸

  * ê°€ì¥ ìµœê·¼ì— ë°œí‘œëœ ê·œì¹™

    

* Rule Of  Three

  * ë³µì‚¬ ìƒì„±ìì™€ ì†Œë©¸ìë¥¼ ë§Œë“ ë‹¤ë©´, ë™ì¼í•˜ê²Œ ë³µì‚¬ ëŒ€ì… ì—°ì‚°ìë¥¼ ì¶”ê°€ì‹œì¼œ ì£¼ì–´ì•¼ í•œë‹¤.

  * ```c++
    //ë‹¨ì§€ í•˜ë‚˜ì˜ ë³µì‚¬ ìƒì„±ìë§Œì„ í˜¸ì¶œ
    MyString s1("Hello World");
    MyString obj = s1;
    
    //ìƒì„±ëœ ê¸°ì¡´ë³€ìˆ˜ì— ëŒ€í•´ ê°ì²´ë¥¼ í• ë‹¹í• ë•Œ ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì í˜¸ì¶œ
    MyString s1("Hello World"), s2;
    s2 = s1;
    ```



* Rule Of Five

  * Rule Of Threeì™¸ì— ì´ë™ ìƒì„±ìì™€ ì´ë™ ëŒ€ì… ì—°ì‚°ìê°€ ì¶”ê°€

  * ```C++
    class MyString{
        public:
        ...
        MyString(MyString&& other) noexcept;
        MyString& operator=(MyString&& other) noexcept;	//ì´ë™ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”©
        ...
    }
    ```

  * 

* ìƒì„±ì ì—­ì‹œ í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©ì´ ë™ì¼í•˜ê²Œ ì ìš©

  * ì˜¤ë²„ë¡œë”© : ê°™ì€ ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ê°œ ì •ì˜í•˜ê³  ë§¤ê°œë³€ìˆ˜ì˜ ìœ í˜•ê³¼ ê°œìˆ˜ë¥¼ ë‹¤ë¥´ê²Œ í•˜ì—¬ ë‹¤ì–‘í•œ ìœ í˜•ì˜ í˜¸ì¶œì— ì‘ë‹µí•˜ê²Œ í•œë‹¤.

  

* ë³µì‚¬ ìƒì„±ì(copy constructor)

  * ì¸ìˆ˜ë¡œ ì œê³µëœ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ìƒì„±ì

  * ìƒì„±ì ì˜¤ë²„ë¡œë”©ì´ ì ìš©ëœ ë˜ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ìƒì„±ì

  * ì›ë³¸ ë³€í˜•ì„ ë°©ì§€

  * ê°ì²´ ìƒì„± í›„, ëŒ€ì… ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì‚¬ ìƒì„±ìê°€ í˜¸ì¶œ

  * ```c++
    class Simple{
        private:
        int num1;
        int num2;
        
        public:
        
        
        simple(){};// = default;
        Simple(int n1, int n2) : num1(n1), num2(n2){
            std::cout << "ìƒì„±ì Simple(int n1, int n2) í˜¸ì¶œ" << std::endl;
        }
        
        //ë³µì‚¬ ìƒì„±ì
        Simple(const Simple& copy): num1(copy.num1), num2(copy.num2){
            std::cout << "ë³µì‚¬ ìƒì„±ì Simple(Simple& copy) í˜¸ì¶œ" << std::endl;
        }
        
        void ShowSimpleData(){
            std::cout<<num1<<", " <<num2<< std::endl;
        }
    };
    
    int main(){
        Simple sim1(15, 30);
        
        Simple sim2 = sim1;		// Simple sim2(sim1)ê³¼ ë™ì¼í•˜ê²Œ í•´ì„
        sim2.ShowSimpleData();
        return 0;
}
    ```
    
    > ìƒì„±ì Simple(int n1, int n2) í˜¸ì¶œ
    >
    > ë³µì‚¬ ìƒì„±ì Simple(Simple& copy) í˜¸ì¶œ
    >
    > 15, 30



* ì´ë™ ìƒì„±ì

  * rvalue  ì°¸ì¡°ë¥¼ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ìƒì„±ì

  * ê¸°ì¡´ ê°ì²´ì˜ ë©¤ë²„ ë³€ìˆ˜ì˜ ê°‘ ë˜ëŠ” ë¦¬ì†ŒìŠ¤(í™ ë©”ëª¨ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°)ë¥¼ ê·¸ëŒ€ë¡œ ì´ë™ì‹œì¼œ ìƒì„±

  * ê¸°ì¡´ ê°ì²´ëŠ” ì„ì‹œ ì €ì¥ì†Œì´ë¯€ë¡œ ì‘ì—…ì´ ì™„ë£Œëœ ì´í›„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì†Œë©¸

  * ```C++
    class Simple{
        Simple(Simple&& move) noexcept : num1(std::move(move.num1)), num2(std::move(move.num2)){
            std::cout<<"ì´ë™ ìƒì„±ì Simple(Simple&& move) í˜¸ì¶œ" << std::endl;
        }
    }
    ```



#### ìƒì„±ì(Constructor)

* ì£¼ì˜ì‚¬í•­

  1. ìƒì„±ìì˜ ë³¸ë¬¸ ë˜ëŠ” ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ì—ì„œ í´ë˜ìŠ¤ ë‚´ ê°€ìƒí•¨ìˆ˜(ë˜ëŠ” virtualí•¨ìˆ˜)ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ì•¼í•œë‹¤.
  2. ìƒì„±ì ë‚´ë¶€ì—ì„œëŠ” ê°€ê¸‰ì  ì˜ˆì™¸(exception)ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
     * ë°œìƒì‹œ, noexcept ì§€ì •ìë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œ
  3. ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒì„±ìì˜ ìƒˆë¡œìš´ ì¸ìˆ˜ë¥¼ ë§Œë“œëŠ” ì‘ì—…ì€ ë°˜ë“œì‹œ ìƒì„±ìì˜ ì¸ìˆ˜ë¦¬ìŠ¤íŠ¸ì—ì„œ ìˆ˜í–‰
     * ì§€ì •ì í´ë˜ìŠ¤-ì´ë¦„(ì¸ìˆ˜-ë¦¬ìŠ¤íŠ¸) noexcept [:ì´ˆê¸°í™”-ë¦¬ìŠ¤íŠ¸]{ë³¸ë¬¸}
  4. ìƒì„±ìëŠ” ì¼ë°˜ í•¨ìˆ˜ì™€ ë‹¬ë¦¬ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì•Œìˆ˜ ì—†ê¸°ë•Œë¬¸ì— í•¨ìˆ˜ í¬ì¸í„°ì— ìƒì„±ìì˜ ì£¼ì†Œë¥¼ í• ë‹¹í•˜ì—¬ í˜¸ì¶œ í•  ìˆ˜ ì—†ë‹¤.
  5. í‰ë²”í•œ í´ë˜ìŠ¤(Cì–¸ì–´ë¡œ ì œì‘ëœ êµ¬ì¡°ì²´ì™€ í˜¸í™˜ì„ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤)ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ì•¼í•œë‹¤.

* ë””í´íŠ¸ ìƒì„±ì

  * ìƒì„±ì ì´ë¦„ë§Œ ìˆê³  ë³„ë„ì˜ ë§¤ê°œë³€ìˆ˜(ë˜ëŠ” ì¸ìˆ˜)ê°€ ì—†ëŠ” ìƒì„±ì

  * ```c++
    class Simple {
        ...
    	public:
        Simple() = default;
        Simple(int n1, int n2) : num1(n1), num2(n2) {
            std::cout << "ìƒì„±ì Simple(int n1, int n2) í˜¸ì¶œ"<<std::endl;
        }
        ...
    }
    int main(){
        Simple sim1(15, 30), sim3 = Simple();
    }
    ```

* ì•”ì‹œì  ë³€í™˜ ìƒì„±ì

  * ì»´íŒŒì¼ëŸ¬ì˜ ìì˜ì  í•´ì„ì— ë”°ë¼ ê°ì²´ ìƒì„± ì‹œ í•˜ë‚˜ì˜ ìƒì„±ìë¥¼ ì„ íƒí•˜ëŠ” ê²ƒ

  * ì™¼ìª½ ë³€ìˆ˜ì˜ ë°ì´í„°ì— ë§ì¶”ì–´ ë³€í™˜í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰

  * ì»´íŒŒì¼ëŸ¬ëŠ” ë³µì‚¬ ìƒì„±ì(ë˜ëŠ” ì´ë™ ìƒì„±ì)ì˜ í˜¸ì¶œì„ ì¤„ì´ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ì„ íƒí•˜ê²Œ ë˜ì–´ ëŒ€ë¶€ë¶„ *ì¼ë°˜ ìƒì„±ì*ë¥¼ ì‚¬ìš©í•œë‹¤.

    * ```c++
      Complex a1(1);
      ```

    * ì¼ë°˜ ìƒì„±ì ì‚¬ìš© ì™¸ ë˜ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ *ë³µì‚¬ ìƒì„±ì*ë¥¼ ì‚¬ìš©

      1. 1ë¥¼ ì¸ìˆ˜ë¡œ Complex(int x) ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ì„ì‹œ Complex ê°ì²´ ìƒì„±
      2. ì„ì‹œ Complex ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ë³µì‚¬ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ a1 ê°ì²´ë¥¼ ìƒì„±
      3. ì„ì‹œ Complex ê°ì²´ë¥¼ ì‚­ì œ

  * ```c++
    #include <iostream>
    #include <cstdio>
    
    class Complex {
    public :
    	Complex(int x) : real(x), imaginary(0.0) {
    		printf("Complex(int %d) í˜¸ì¶œ\n", x);
    	}
    
    	Complex(double x, double y) : real(x), imaginary(y) {
    		printf("Complex(double %.2f, double %.2f) í˜¸ì¶œ\n", x, y);
    	}
    
    private:
    	double real;
    	double imaginary;
    };
    
    int main() {
    	Complex a1 = 1;			// ìˆ«ìë¥¼ ì¸ìˆ˜ë¡œ ì¸ì‹í•˜ì—¬ Complex::Complex(int)ìƒì„±ì í˜¸ì¶œ
    	Complex a2(2);			// ì§ì ‘ Complex::Complex(int) ìƒì„±ìë¥¼ í˜¸ì¶œ
    	Complex a3{ 4, 5 };		// ì§ì ‘ Complex::Complex(double, double) ìƒì„±ìë¥¼ í˜¸ì¶œ
    	Complex a4 = { 4, 5 };	// ìˆ«ìë¥¼ ì¸ìˆ˜ë¡œ ì¸ì‹í•˜ì—¬ Complex::Complex(double, double)ìƒì„±ì í˜¸ì¶œ
    	// Complex::Complex(int) ìƒì„±ìë¥¼ í˜¸ì¶œ
    	Complex a5 = (Complex)1;
    	Complex *a6 = new Complex(4, 5);
    	delete a6;
    }
    ```

    > Complex(int 1) í˜¸ì¶œ
    >
    > Complex(int 2) í˜¸ì¶œ
    >
    > Complex(double 4.00, double 5.00) í˜¸ì¶œ
    >
    > Complex(double 4.00, double 5.00) í˜¸ì¶œ
    >
    > Complex(int 1) í˜¸ì¶œ
    >
    > Complex(double 4.00, double 5.00) í˜¸ì¶œ

* ëª…ì‹œì  ìƒì„±ì

  * explicit ì§€ì •ìë¥¼ í†µí•´ì„œ ì»´íŒŒì¼ëŸ¬ê°€ ìì˜ì ì¸ í•´ì„ì„ ê¸ˆì§€í•˜ê³  ìì‹ ì´ ì„¤ì •ëœ ë°©ì‹ìœ¼ë¡œë§Œ ê°ì²´ë¥¼ ìƒì„±

  * ì œì•½ ì¡°ê±´ì´ ê¹Œë‹¤ë¡­ê¸° ë•Œë¬¸ì— ì¡°ê±´ì´ ê¹Œë‹¤ë¡œìš´ í´ë˜ìŠ¤ì—ì„œ ë§ì´ ì‚¬ìš©

  * ```C++
    #include <iostream>
    #include <cstdio>
    
    class Complex {
    public :
    	explicit Complex(int x) : real(x), imaginary(0.0) {
    		printf("Complex(int %d) í˜¸ì¶œ\n", x);
    	}
    
    	explicit Complex(double x, double y) : real(x), imaginary(y) {
    		printf("Complex(double %.2f, double %.2f) í˜¸ì¶œ\n", x, y);
    	}
    
    private:
    	double real;
    	double imaginary;
    };
    
    int main() {
        //Complex b1 = 1;		//ìì˜ì  í•´ì„ìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ ë°œìƒ
        Complex b2(2);			//Complex::Complex(int) ìƒì„±ì í˜¸ì¶œ
        Complex b3{4, 5}		//Complex::Complex(double, double) ìƒì„±ì í˜¸ì¶œ
        //Complex b4 = {4, 5}		//ìì˜ì  í•´ì„ìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ ë°œìƒ
        Complex b5 = (Complex)1;		// íƒ€ì…ë³€í™˜ í—ˆìš©
        Complex *b6 = new Complex(4, 5);
        delete b6;
    }
    ```

    > Complex(int 2) í˜¸ì¶œ
    >
    > Complex(double 4.00, double 5.00) í˜¸ì¶œ
    >
    > Complex(int 1) í˜¸ì¶œ
    >
    > Complex(double 4.00, double 5.00) í˜¸ì¶œ)

* ìƒì„±ì ìƒì†

  * í´ë˜ìŠ¤ì˜ ìƒì†ì— ìˆì–´ ê¸°ë³¸ì ìœ¼ë¡œ í´ë˜ìŠ¤ì˜ ë©¤ë²„ëŠ” ì›ì¹™ì ìœ¼ë¡œ í•˜ìœ„ í´ë˜ìŠ¤ì— ê·¸ëŒ€ë¡œ ë¬¼ë ¤ì£¼ì§€ë§Œ, í´ë˜ìŠ¤ì˜ ë©¤ë²„ ê°€ìš´ë° ìƒì„±ìì™€ ì†Œë©¸ì, ëŒ€ì… ì—°ì‚°ì(ì•”ì‹œì  ë³€í™˜ì„ ìˆ˜í–‰í•˜ëŠ” ì—°ì‚°ì)ëŠ” ë¬¼ë ¤ì£¼ì§€ ì•ŠëŠ”ë‹¤.

  * ```c++
    #include <iostream> 
    
    class Box {
    public: 
        Box(int width = 0, int length = 0, int height = 0) 
            : width(width), length(length), height(height) {};
        inline int Volume() {return width * length * height; }
    
    private:
        int width;
        int length;
        int height;
    };
    
    class WoodBox: public Box {
    public:
        // WoodBox(int w, int l, int h) : Box(w, l, h) {}
        using Box::Box;			//ìì‹ ì˜ í´ë˜ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©
    };
    
    int main(void){
        WoodBox *b = new WoodBox(5, 10, 3);
        std::cout << "ë‚˜ë¬´ ìƒìì˜ í¬ê¸° = " << b->Volume() << std::endl;
        delete b;
    }
    ```

    > ë‚˜ë¬´ ìƒìì˜ í¬ê¸° = 150

* initializer_list í´ë˜ìŠ¤ í…œí”Œë¦¿

  * ë°°ì—´ì´ë‚˜ ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™” ì‹œí‚¬ë•Œ ì‚¬ìš©

  * ë‹¤ìŒ ì¡°ê±´ì´ ì„±ë¦½ë˜ì—ˆì„ ë•Œ, ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ì–´ ê°ì²´ê°€ ìƒì„±

    * ë‹¤ìˆ˜ì˜ ë°ì´í„°ë¥¼ ëŒ€ì… ì—°ì‚°ìì™€ í•¨ê²Œ ì‹œì‘ ì¤‘ê´„í˜¸ì™€ ë ì¤‘ê´„í˜¸('{', '}')ë¡œ ì œê³µí•  ë•Œ
    * iterator ê°ì²´ ë˜ëŠ” vector ê°ì²´ì™€ ê°™ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ì œê³µí•  ë•Œ
    * ë°°ì—´ì„ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•  ë•Œ

  * ```c++
    #include <iostream>
    #include <initializer_list>
    
    struct MyClass {
    	MyClass(int, int);
    	MyClass(std::initializer_list<int>);
    	~MyClass();		//ì†Œë©¸ì
    
    private:
    	int size;
    	int *mem;
    };
    
    int main() {
    	MyClass bar(10, 20);
    	MyClass foo{ 10, 20 };
    }
    
    MyClass::MyClass(int a, int b) {
    	size = 2;
    	mem = new int[2]();
    	mem[0] = a;
    	mem[1] = b;
    	std::cout << "MyClass(int ,int) :" << mem[0] << ' ' << mem[1] << std::endl;
    }
    
    MyClass::MyClass(std::initializer_list<int>a) {
    	size = a.size;
    	std::cout << "MyClass(std::initializer_list<int>) : ";
    	mem = new int[size]();
    	for (int i = 0; i < size; ++i) {
    		mem[i] = *(a.begin() + i);
    		std::cout << mem[i] << ' ';
    	}
    	std::cout<<std::endl
    }
    
    MyClass::~MyClass() {
    	std::cout << "delete[] mem" << std::endl;
    	delete[] mem;
    }
    ```



#### ì†Œë©¸ì

* í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚­ì œë˜ê¸° ì „ì— ìˆ˜í–‰ë˜ëŠ” íŠ¹ìˆ˜ ëª©ì  í•¨ìˆ˜
* ë‹¤ìŒ ê²½ìš°ì— í˜¸ì¶œ
  * í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ì–´ ê°ì²´ë¥¼ ì‚­ì œ ì‹œí‚¬ ë•Œ
  * í•¨ìˆ˜ ë‚´ ì§€ì—­ ë³€ìˆ˜ì²˜ëŸ¼ íŠ¹ì • ì§€ì—­ ë‚´ ì„ ì–¸ëœ ë³€ìˆ˜ê°€ ì‹ë³„ì ì ìš© ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ ë” ì´ìƒ ì‚¬ìš©í• ìˆ˜ ì—†ì„ ë•Œ
  * new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚­ì œì‹œí‚¤ê¸° ìœ„í•´ delete ì—°ì‚°ìë¥¼ í˜¸ì¶œ í•  ë•Œ
* íŠ¹ì§•
  * ì¸ìˆ˜ë¥¼ ê°–ì§€ ì•ŠëŠ”ë‹¤.
  * ë‹¨ í•˜ë‚˜ë§Œì´ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.
  * ìƒì„±ì ì²˜ëŸ¼ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ìƒì†ì´ ë¶ˆê°€í•˜ë‹¤.
  * í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìê°€ í˜¸ì¶œ ë˜ë©´, ë™ì‹œì— ì—°ê´€ëœ ìƒìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œ ëœë‹¤.
  * ê°ì²´ê°€ ì†Œë©¸ë˜ê¸° ì§ì „ì— ìì—°ìŠ¤ëŸ½ê²Œ í˜¸ì¶œëœë‹¤.
  * ì˜ë¯¸ì—†ì´ ë¹„ì–´ìˆëŠ” ì†Œë©¸ìëŠ” ë§Œë“¤ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.
    * OSëŠ” ê°ì²´ë¥¼ ì‚­ì œí•˜ê¸°ì „ì— ì†Œë©¸ìë¥¼ ì‘ì—… íì— ë„£ê³  í•˜ë‚˜ì”© ìˆ˜í–‰í•˜ë¯€ë¡œ, ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ ì¢‹ê²Œ í•˜ë ¤ë©´ ê°€ê¸‰ì  ë¹„ì–´ìˆëŠ” ì†Œë©¸ìëŠ” ë§Œë“¤ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

* ```c++
  #include <iostream>
  #include <cstring>
  #include <cstdlib> 
  
  struct Account {
  	char *account; // ê³„ì¢Œ ë²ˆí˜¸ 
  	char *name;      // ì´  ë¦„
  	int balance;     // ì”  ì•¡ 
  	Account(const char *id, const char *name, int bal)
  		: account(new char[strlen(id) + 1]),
  		name(new char[strlen(name) + 1]),
  		balance(bal) {
  		strcpy(this->account, id);
  		strcpy(this->name, name);
  		std::cout << "Account ìƒì„±ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤." << std::endl;
  	}
  
  	~Account() {
  		std::cout << "Account ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤." << std::endl;
  		delete[] account;
  		delete[] name;
  	}
  
  	void Print() {
  		printf("ê³„ ì¢Œ : %s , ì†Œìœ ì : %s", account, name);
  		printf(", ì” ì•¡ : %i\n", balance);
  	}
  
  	void Deposit(int money) {
  		balance += money;
  	}
  
  	void Withdraw(int money) {
  		balance -= money;
  	}
  };
  
  int main() {
  	Account *hong = new Account("120-345-129099", "í™ê¸¸ë™", 60000);	//(1)
  	if (NULL == hong)
  		return -1;
  	{
  		Account kim("129-345-929100", "ê¹€í™ë„", 0);					//(2)
  		hong->Withdraw(2000);
  		kim.Deposit(2000);
  		hong->Print();												  // (3)
  		kim.Print();												  // (4)
  	}
  
  	delete hong;													  // (5)
  	return 0;													  	  // (6)
  }
  ```

  >Account ìƒì„±ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.		//(1)
  >Account ìƒì„±ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.		//(2)
  >ê³„ ì¢Œ : 120-345-129099 , ì†Œìœ ì : í™ê¸¸ë™, ì” ì•¡ : 58000			//(3)
  >ê³„ ì¢Œ : 129-345-929100 , ì†Œìœ ì : ê¹€í™ë„, ì” ì•¡ : 2000			 //(4)
  >Account ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.												//(5)
  >Account ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.												//(6)

* ê°€ìƒ ì†Œë©¸ì

  * ë‹¤í˜•ì„±ì˜ ì›ì¹™ì— ë”°ë¼ í•´ë‹¹ ê°ì²´ë¥¼ ìƒìœ„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì— í• ë‹¹ í•˜ì˜€ë‹¤ë©´, í•´ë‹¹ ê°ì²´ê°€ ì†Œë©¸ ì‹œ ì •ìƒì ìœ¼ë¡œ ìƒìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìëŠ” í˜¸ì¶œë˜ëŠ” ë°˜ë©´, í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒ.

    * new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì‹ ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±
    * ìƒì„±í•œ ê°ì²´ë¥¼ ìƒìœ„ í´ë˜ìŠ¤ íƒ€ì…ì˜ í¬ì¸í„°ì— í• ë‹¹
    * ê°ì²´ë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ delete ì—°ì‚°ìë¥¼ í˜¸ì¶œí•œë‹¤.

    > ë§Œì¼ í™ ë©”ëª¨ë¦¬ ê³µê°„ì´ ì•„ë‹Œ ìŠ¤íƒ ë‚´ ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ëŠ” ì¼ë°˜ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²½ìš° ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ ìƒìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìì™€ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìê°€ í˜¸ì¶œ ëœë‹¤.

  * ìƒìœ„ í´ë˜ìŠ¤ì˜ ì†Œë©¸ìì— virtual ì§€ì •ìë¥¼ ì„ ì–¸í•˜ì—¬ ê°€ìƒ ì†Œë©¸ìë¥¼ ë§Œë“¤ì–´ ì£¼ì–´ì•¼í•œë‹¤.

  * ```c++
    class Box{
        ...
        virtual ~Box(){
            std::cout <<"Box ì†Œë©¸ì í˜¸ì¶œ" <<std::endl;
        }
        ...
    };
    ```



#### ë³µì‚¬ ìƒì„±ì

* í´ë˜ìŠ¤-ì´ë¦„ (const í´ë˜ìŠ¤-ì´ë¦„& ) {ë³¸ë¬¸}

* ```c++
  class_name (const class_name &){
      ...
  }
  //default ë³µì‚¬ ìƒì„±ìë¥¼ ìƒì„±í•˜ë„ë¡ ìš”ì²­
  class_name (const class_name& ) = default;
  //ë³µì‚¬ ìƒì„±ìë¥¼ ì‚­ì œ
  class_name (const class_name& ) = delete;
  ```

* ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ìƒì„±ì

* C++ì—ì„œëŠ” ì¼ë°˜ ë³€ìˆ˜ë¥¼ ì„ ì–¸ ì‹œ í™ ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ìŠ¤íƒ ë©”ëª¨ë¦¬ ë‚´ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ê°ì²´ì˜ ë³µì‚¬ê°€ ë¹ˆë²ˆíˆ ë°œìƒ

* ê°ì²´ì˜ ë³µì‚¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì¼ë°˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

* Rule Of Zeroì˜ ê·œì¹™ì— ë”°ë¼ ë³µì‚¬ ìƒì„±ìë¥¼ ë³„ë„ ì •ì˜í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.

* ì†Œë©¸ì ë‚´ë¶€ì—ì„œ delete ì—°ì‚°ìë¥¼ í˜¸ì¶œí•˜ì—¬ í™ ë©”ëª¨ë¦¬ ë‚´ ì €ì¥ì†Œë¥¼ ì‚­ì œí•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ìì—´ì´ ê¹¨ì§€ëŠ” ê²ƒê³¼ ê°™ì€ ì—ëŸ¬ ë°œìƒ.

  * ë‹¤ìŒ ì¡°ê±´ì—ì„œ ë°œìƒ
    * í´ë˜ìŠ¤ ë‚´ë¶€ì— ë©¤ë²„ í¬ì¸í„°ê°€ ì¡´ì¬
    * ë©¤ë²„ í¬ì¸í„°ëŠ” ìƒì„±ìê°€ í˜¸ì¶œ ì‹œ ë©”ã…ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ê³  ì´ˆê¸°í™”
    * ì†Œë©¸ìëŠ” ìƒì„±ìì— ì˜í•´ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ë¥¼ OSì— ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰
    * ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ë””í´íŠ¸ ë³µì‚¬ ìƒì„±ìë¥¼ ì‚¬ìš©
  * í•¨ìˆ˜ì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´, ê°ì²´ë¥¼ ì†Œë©¸í•˜ëŠ” ê³¼ì •ì—ì„œ ì†Œë©¸ìê°€ í˜¸ì¶œë˜ì–´ ë¬¸ìì—´ì˜ ì €ì¥ì†Œë¥¼ ì‚­ì œ
  * í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ë©´ì„œ ì›ë³¸ ê°ì²´ ì—­ì‹œ ì†Œë©¸ë˜ì–´ ì˜ì—­ì¹¨ë²”ì´ë¼ëŠ” ì—ëŸ¬ ë°œìƒ

  

* ```c++
  #include <iostream>
  #include <string>
  #include <cstring>
  
  class MyString {
  public:
      MyString(const char *n);
      MyString(const MyString &my) = default; // ë³µì‚¬ ìƒì„±ì
      ~MyString();
  
      const char* GetString() const;
      int GetLength() const;
      
  private:
      char* data;
      int length;
  };
  
  MyString::MyString(const char *n){
      if (nullptr == n){
          data = nullptr;
          length = 0;
          return;
      }
      
      int mLength = strlen(n);
      if (0 == mLength) {
          data = nullptr;
          length = 0;
          return;
      }
      
      char *temp = new char[mLength + 1];
      std::strcpy(temp, n);
      data = temp;
      length = mLength;
      
      printf("MyString::MyString(const char '%s')\n", n);
  }
  
  MyString::~MyString(){
      printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
      if (nullptr != data) {
          delete[] data;
  
          data = nullptr;
          length = 0;
      }
  }
  
  const char* MyString::GetString() const {
      return data;
  }
  
  int MyString::GetLength() const {
      return length;
  }
  
  //other ê°ì²´ë¥¼ ì†Œë©¸í•˜ëŠ” ê³¼ì •ì—ì„œ ì†Œë©¸ìê°€ í˜¸ì¶œ
  void display(const MyString& other) {
     std::cout << other.GetString() << std::endl;
  }
  
  int main() {
      MyString s1("Hello World");
      display(s1);
      MyString obj = s1;		// ë³µì‚¬ ìƒì„±ìì— ì˜í•´ ì–•ì€ ë³µì‚¬ ìˆ˜í–‰
      return 0;
  }
  ```
  >MyString::MyString(const char 'Hello World')
  >Hello World
  >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
  >MyString::MyString('ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼ç¡¼@{`?') ì†Œë©¸ì í˜¸ì¶œ

* ì–•ì€ ë³µì‚¬ -> ê¹Šì€ ë³µì‚¬

* (char *) íƒ€ì…ì˜ ë¬¸ìì—´ -> std::string íƒ€ì…ì˜ ë¬¸ìì—´ 

* ë¬¸ìì—´ í¬ì¸í„° -> std::shared_ptr ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬

#### ì–•ì€ ë³µì‚¬ì™€ ê¹Šì€ ë³µì‚¬

* ì–•ì€ ë³µì‚¬

  * ë‹¨ì§€ ë©”ëª¨ë¦¬ ì£¼ì†Œë§Œì„ ë³µì‚¬í•˜ì—¬ ë³€ìˆ˜ì˜ ë°ì´í„°ë¡œ ë§Œë“œëŠ” ë°©ë²•

    

* ê¹Šì€ ë³µì‚¬

  * ë³€ìˆ˜ê°€ ê´€ë¦¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ ìì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡­ê²Œ ë©¤ë²„ ë³€ìˆ˜ì— ì…ë ¥
  * ìƒˆë¡­ê²Œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  ë¬¸ìì—´ì´ë‚˜ ê°ì²´ë¥¼ ë³µì‚¬

* ![](./image/fig1.PNG)

* ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì

  * ìœ„ ì½”ë“œì—ì„œ ê¹Šì€ ë³µì‚¬ë¡œ ë°”ê¾¸ì–´ ì¤Œì—ë„ ë¶ˆêµ¬í•˜ê³  s2=s1; display(s2); ë¥¼ í•´ì¤€ë‹¤ë©´ ë‹¤ì‹œ ë¬¸ìì—´ì´ ê¹¨ì§€ëŠ” ì—ëŸ¬ ë°œìƒ

    * ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”© ì‘ì—… ì—†ì´ ë””í´íŠ¸ë¡œ ì—°ì‚° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë‹¤ë³´ë‹ˆ ë˜ ë‹¤ì‹œ ì–•ì€ ë³µì‚¬ê°€ ë°œìƒë˜ê¸° ë•Œë¬¸

  * ìœ„ ì½”ë“œì˜ ëª¨ë“  ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì„ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤.

  * operator í‚¤ì›Œë“œì™€ =ëŒ€ì…ì—°ì‚°ì, ì°¸ì¡°ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸

  * class_name& class_name::operator=(const class_name)

  * ```c++
    #include <iostream>
    #include <string>
    #include <cstring>
    
    class MyString {
    public:
    	MyString(const char *n);
    	MyString(const MyString &my);
    	~MyString();
    
    	MyString& operator= (const MyString& other);
    	void SetString(const char* n);
    	const char* GetString() const;
    	int GetLength() const;
    
    private:
    	void Release();
    	char* data;
    	int length;
    };
    
    void display(MyString other) {
    	std::cout << other.GetString() << std::endl;
    }
    
    int main() {
    	MyString s1("Hello World"), s2 = "ë³µì‚¬ ìƒì„±ì";
    	display(s1); 
    	s2 = s1;
    	display(s2);
    	return 0;
    }
    
    // ì¼ë°˜ ìƒì„±ìì´ë‹¤.
    MyString::MyString(const char *n) : data(nullptr), length(0) {
    	SetString(n);
    	printf("MyString::MyString(const char '%s')\n", n);
    }
    
    // ë³µì‚¬ ìƒì„±ìì´ë‹¤.
    MyString::MyString(const MyString &my) : data(nullptr), length(0) {
    	SetString(my.GetString());
    	printf("MyString::MyString(const MyString '%s')\n", my.GetString());
    }
    
    MyString::~MyString() {
    	printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
    	Release();
    }
    
    MyString& MyString::operator= (const MyString & other) {
    	if (this != &other) { // ìê¸° ìì‹ ì„ ëŒ€ì…í•˜ëŠ” ê²ƒì€ ë¬´ì˜ë¯¸í•œ ì‘ì—…ì´ë‹¤.
    		Release();
    		SetString(other.GetString());
    	}
    	printf("MyString& MyString::operator = Mystring('%s')\n", this->data);
    	return *this;
    }
    
    void MyString::SetString(const char* n) {
    	if (nullptr == n) return;
    
    	int mLength = strlen(n);
    	if (0 == mLength) return;
    
    	data = new char[mLength + 1];
    	std::strcpy(data, n);
    	length = mLength;
    }
    
    const char* MyString::GetString() const {
    	return data;
    }
    
    void MyString::Release() {
    	if (data != nullptr) {
    		delete[] data;
    		data = nullptr;
    		length = 0;
    	}
    }
    
    int MyString::GetLength() const {
    	return length;
    }
    
    ```

    > MyString::MyString(const char 'Hello World')
    > MyString::MyString(const char 'ë³µì‚¬ ìƒì„±ì')
    > MyString::MyString(const MyString 'Hello World')
    > Hello World
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > MyString& MyString::operator = Mystring('Hello World')
    > MyString::MyString(const MyString 'Hello World')
    > Hello World
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    > MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ



#### ì´ë™ ìƒì„±ìì™€ ì´ë™ ëŒ€ì… ì—°ì‚°ì

* ì´ë™ ìƒì„±ìëŠ” rvalue ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒì„±ìì´ë‹¤.

  * rvalue ì°¸ì¡° : ìƒìˆ˜ë‚˜ ì„ì˜ ì €ì¥ì†Œë¥¼ ì°¸ì¡°í•˜ëŠ” ê°œë…

    ```c++
    void function(){
        int&& value = 10;
    }
    ```

    * ì €ì¥ì†Œë¥¼ ë§Œë“¤ì–´ 10ì„ ì…ë ¥
    * ì €ì¥ì†Œì— ëŒ€í•´ ravlue ì°¸ì¡°ë¥¼ ìƒì„±
    * í•¨ìˆ˜ ë°˜í™˜ ì‹œ ì„ì‹œ ì €ì¥ì†Œì™€ í•¨ê²Œ ravlue ì°¸ì¡°ë¥¼ ì†Œë©¸

* ì´ë™ ìƒì„±ìì™€ ì´ë™ ëŒ€ì… ì—°ì‚°ìëŠ” ì¸ìˆ˜ë¡œ ì‚¬ìš©í•œ ê°ì²´ì™€ ìƒˆë¡­ê²Œ ìƒì„±í•œ ê°ì²´ì˜ ë©¤ë²„ê°„ì˜ ë°ì´í„° êµí™˜ì´ ì´ë£¨ì–´ì§„ë‹¤.

  * ```c++
    //other ê°ì²´ëŠ” ì‘ì—…ì´ ì™„ë£Œëœ ì´í›„ì— ì†Œë©¸
    MyString::MyString(MyString&& other) noexcept : data(nullptr), length(0) {
        std::swap(this->data, other.data);
        std::swap(this->length, other.length);
    }
    ////////////////////////////////////////////////////////////////
    //ì´ë™ ìƒì„±ìì˜ ì •ì˜ë¬¸
    //ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ê°ì²´ëŠ” ë¬´ëª… ê°ì²´ì²˜ëŸ¼ ì„ì‹œ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ì´ë‹¤.
    ...
    MyString::MyString(MyString&& other) noexcept : data(other.data), length(other.length){
        printf("MyString(MyString&& '%s')\n", data);
        other.data = nullptr;		//ì¸ìˆ˜ë¡œ ì‚¬ìš©í•œ ê°ì²´ ì†Œë©¸ ì‹œ ë¦¬ì†ŒìŠ¤(char *)ë¥¼ ì‚­ì œí•˜ì§€ ëª»í•˜ë„ë¡ ì²˜ë¦¬
        other.length = 0;
    }
    ...
    ```

  * ```c++
    #include <iostream>
    #include <string>
    #include <cstring>
    #include <vector>
    #include <algorithm>
    
    class MyString {
    public:
    	MyString(const char *n = nullptr);
    	MyString(const MyString &other);
    	MyString(MyString&& other) noexcept;
    	~MyString();
    
    	MyString& operator= (const MyString& other);
    	MyString& operator= (MyString&& other) noexcept;
    	void SetString(const char* n);
    	const char* GetString() const;
    	int GetLength() const;
    
    private:
    	char* data;
    	int length;
    };
    
    MyString::MyString(const char *n) : data(nullptr), length(0) {
    	SetString(n);
    	printf("MyString::MyString(const char '%s')\n", n);
    }
    
    MyString::MyString(const MyString &other) : data(nullptr), length(0) {
    	SetString(other.GetString());
    	printf("MyString::MyString(const MyString& '%s')\n", data);
    }
    
    MyString::MyString(MyString&& other) noexcept
    	: data(other.data), length(other.length) {
    	printf("MyString::MyString(MyString&& '%s')\n", data);
    	//printf(">>>\n");
    	other.data = nullptr;
    	other.length = 0;
    }
    
    MyString::~MyString() {
    	printf("MyString::MyString('%s') ì†Œë©¸ì í˜¸ì¶œ\n", data);
    	if (data != nullptr) {
    		delete[] data;
    	}
    }
    
    MyString& MyString::operator= (const MyString& other) {
    	if (this != &other) {
    		delete[] data;
    		SetString(other.GetString());
    	}
    	printf("MyString& MyString::operator = (Mystring& '%s')\n", this->data);
    	return *this;
    }
    
    MyString& MyString::operator= (MyString&& other) noexcept {
    	if (this != &other) {
    		if (nullptr != data) delete[] data;
    
    		data = other.data;
    		length = other.length;
    		other.data = nullptr;
    	}
    	printf("MyString& MyString::operator = (Mystring&& '%s')\n", this->data);
    	return *this;
    }
    
    void MyString::SetString(const char* n) {
    	if (n == nullptr) return;
    
    	int mLength = strlen(n);
    	if (mLength == 0) return;
    
    	data = new char[mLength + 1];
    	std::strcpy(data, n);
    	length = mLength;
    }
    
    const char* MyString::GetString() const {
    	return data;
    }
    
    int MyString::GetLength() const {
    	return length;
    }
    
    void display(MyString other) {
    	std::cout << other.GetString() << std::endl;
    }
    
    int main() {
    	MyString s1("Hello World"), s2 = "ë³µì‚¬ ìƒì„±ì";
    	display(s1);
    	s2 = s1;
    
    	std::vector<MyString> vec;
    	vec.push_back(s1);
    	vec.push_back(MyString("ì´ë™ ìƒì„±ì"));
    	vec.push_back(MyString("ì´ë™ ëŒ€ì… ì—°ì‚°ì"));
    	s2 = std::move(vec[2]);
    	return 0;
    }
    ```

    >MyString::MyString(const char 'Hello World')
    >MyString::MyString(const char 'ë³µì‚¬ ìƒì„±ì')
    >MyString::MyString(const MyString& 'Hello World')
    >Hello World
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    >MyString& MyString::operator = (Mystring& 'Hello World')
    >MyString::MyString(const MyString& 'Hello World')
    >MyString::MyString(const char 'ì´ë™ ìƒì„±ì')
    >MyString::MyString(MyString&& 'Hello World')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(MyString&& 'ì´ë™ ìƒì„±ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(const char 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >MyString::MyString(MyString&& 'Hello World')
    >MyString::MyString(MyString&& 'ì´ë™ ìƒì„±ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString(MyString&& 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString& MyString::operator = (Mystring&& 'ì´ë™ ëŒ€ì… ì—°ì‚°ì')
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ
    >MyString::MyString('ì´ë™ ìƒì„±ì') ì†Œë©¸ì í˜¸ì¶œ
    >**MyString::MyString('(null)') ì†Œë©¸ì í˜¸ì¶œ**
    >MyString::MyString('ì´ë™ ëŒ€ì… ì—°ì‚°ì') ì†Œë©¸ì í˜¸ì¶œ
    >MyString::MyString('Hello World') ì†Œë©¸ì í˜¸ì¶œ

* ì´ë™ ëŒ€ì… ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì€ ë³´í†µ swap()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©¤ë²„ ë³€ìˆ˜ì˜ ë°ì´í„°ë¥¼ ì„œë¡œ êµì²´

  * ```c++
    MyString& MyString::operator= (MySting&& other) noexcept {
        if(this != &other){
            std::swap(this->data, other.data);
            std::swap(this->length, other.length);
        }
        ...
    }
    ```

  * this ê°ì²´ ë‚´ ë©¤ë²„ë“¤ì€ ëª¨ë‘ otherë¼ê³  í•˜ëŠ” ê°ì²´ìœ¼ ã…£ë©¤ë²„ë¡œ ì´ë™í•˜ê²Œ ëœë‹¤.

  * otherê°ì²´ëŠ” ì„ì‹œ ê°ì²´ì´ë¯€ë¡œ ì—°ì‚°ìì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ìë™ì ìœ¼ë¡œ ì†Œë©¸í•œë‹¤.



#### ë³µì‚¬/ì´ë™ ìƒëµì˜ ì›ì¹™

* ë³µì‚¬ ìƒì„±ìì™€ ì´ë™ ìƒì„±ìì˜ í˜¸ì¶œì„ ìƒëµí•  ìˆ˜ ìˆëŠ” ê²½ìš°

  * ì•”ì‹œì  ë³€í™˜ ìƒì„±ì ì²˜ëŸ¼ ê°ì²´ ìƒì„± ì‹œ ì˜¤ë¡œì§€ í•˜ë‚˜ì˜ ê°ì²´ë§Œì´ ìƒì„±ëœë‹¤.

    * Complex x=1;	í˜¹ì€ 	Complex x = Complex(Complex(Complex(1)));
    * ì´ëŠ” Complex x(1); ê³¼ ë™ì¼í•œ ë¬¸ì¥

  * í•¨ìˆ˜ ë‚´ ì§€ì—­ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤ë©´, ë³µì‚¬ ìƒì„±ìì˜ í˜¸ì¶œì„ ìƒëµëœë‹¤.

    * NRVO(Named Return Value Optimization)

    * ```c++
      MyString create(const char *ptr = nullptr){
          MyString obj(ptr);		// ì§€ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±
          return obj;				// ë³µì‚¬ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.
      }
      MyString x = create("Hello World");					// ì¼ë°˜ ìƒì„±ì í•˜ë‚˜ë§Œ í˜¸ì¶œ
      MyString *p = new MyString(create("Hello World"));	// ì¼ë°˜ ìƒì„±ì í•˜ë‚˜ë§Œ í˜¸ì¶œ
      ```

    * ì›ì¹™ì ìœ¼ë¡œëŠ” í•¨ìˆ˜ ë²”ìœ„ë‚´ ìƒì„±ëœ ê°ì²´ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œë‹¤ë©´, ì‚­ì œë˜ë¯€ë¡œ ë³µì‚¬ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ë³µì‚¬ì‹œì¼œ ì „ë‹¬ë˜ì–´ì•¼ í•˜ì§€ë§Œ, ê·¸ ê³¼ì •ì´ ìƒëµëœë‹¤.

  * í•¨ìˆ˜ê°€ ë‹¤ìŒê³¼ ê°™ì´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì— ì´ë™ ìƒì„±ìì˜ í˜¸ì¶œì´ ìƒëµëœë‹¤.

    * RVO(Return Value Optimization)

    * ```C++
      MyString create(const *ptr = nullptr){
          return MyString{ptr};		//ë¬´ëª… ë³€ìˆ˜ë¥¼ ìƒì„±
      }
      MyString x = create();
      ```

  * í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ throwë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆì™¸ë¥¼ ë˜ì¡Œì„ ë•Œ, ë³µì‚¬ ìƒì„±ìì˜ í˜¸ì¶œì´ ìƒëµëœë‹¤.

    * ```C++
      void foo(const char *ptr=nullptr){
          throw MyString(ptr);
      }
      int main(){
          try {
              foo("throw MyString");
          }catch(MyString& c){}
      }
      ```

* ```c++
  #include <iostream>  
  #include <string>
  #include <algorithm>
  
  int count = 0;
  
  class MyString {
  	std::string data;
  
  public:
  	MyString(const char *ptr = nullptr) : data(ptr) {
  		std::cout << "Constructor : " << ptr << std::endl;
  	}
  	MyString(const MyString  &obj) : data(obj.data) {
  		std::cout << "copy constructor : " << data.c_str() << std::endl;
  		++count;
  	}
  	MyString(MyString&& obj) {
  		std::swap(this->data, obj.data);
  		std::cout << "Move constructor : " << data.c_str() << std::endl;
  		++count;
  	}
  	~MyString() {
  		std::cout << "Destructor  : " << data.c_str() << std::endl;
  	}
  
  	MyString& operator= (const MyString & other) {
  		if (this != &other) {
  			data = other.data;
  		}
  		printf("MyString& MyString::operator = (Mystring& '%s')\n", this->data);
  		++count;
  		return *this;
  	}
  
  	MyString& operator= (MyString&& other) noexcept {
  		if (this != &other) {
  			std::swap(this->data, other.data);
  		}
  		printf("MyString& MyString::operator = (Mystring&& '%s')\n", this->data);
  		++count;
  		return *this;
  	}
  };
  
  MyString fun123(const char *ptr = nullptr) {
  	MyString obj(ptr);
  	return obj;
  }
  
  MyString xyz123(const char *ptr = nullptr) {
  	return MyString{ ptr };
  }
  
  void foo(const char *ptr = nullptr) {
  	throw MyString(ptr);
  }
  
  int main() {
  	MyString abc = { "abc" };
  
  	MyString obj1(fun123("fun123()"));
  	MyString obj2(xyz123("xyz123()"));
  
  	MyString xyz = "Return Value Optimization(RVO)";
  	
  	try {
  		foo("throw MyString");
  	}
  	catch (MyString& c) {
  	}
  	
  	std::cout << "í˜¸ì¶œ íšŸìˆ˜ : " << count << std::endl;
  	return 0;
  }
  ```

  > Constructor : abc
  >
  > Constructor : fun123()
  >
  > Constructor : xyz123()
  >
  > Constructor : Return Value Optimization(RVO)
  >
  > Constructor : throw MyString
  >
  > Destructor  : throw MyString
  >
  > í˜¸ì¶œ íšŸìˆ˜ : 0
  >
  > Destructor  : throw MyString
  >
  > Destructor  : xyz123()
  >
  > Destructor  : fun123()
  >
  > Destructor  : abc

